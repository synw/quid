{"version":3,"sources":["webpack:///./src/views/ViewGroups.vue?ced6","webpack:///./src/components/groups/GroupsAdd.vue?59f4","webpack:///src/components/groups/GroupsAdd.vue","webpack:///./src/components/groups/GroupsAdd.vue?df49","webpack:///./src/components/groups/GroupsAdd.vue","webpack:///./src/components/groups/GroupsInfo.vue?a665","webpack:///src/components/groups/GroupsInfo.vue","webpack:///./src/components/groups/GroupsInfo.vue?9555","webpack:///./src/components/groups/GroupsInfo.vue","webpack:///src/views/ViewGroups.vue","webpack:///./src/views/ViewGroups.vue?7f36","webpack:///./src/views/ViewGroups.vue","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/LoadingIndicator.vue?075d","webpack:///./src/components/LoadingIndicator.vue","webpack:///./src/components/namespace/NamespaceSelect.vue?f4a4","webpack:///src/components/namespace/NamespaceSelect.vue","webpack:///./src/components/namespace/NamespaceSelect.vue?8281","webpack:///./src/components/namespace/NamespaceSelect.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","action","staticStyle","on","$event","$store","commit","_e","state","attrs","model","value","callback","$$v","showActionBar","expression","refresh","data","fields","scopedSlots","_u","key","fn","row","toggleDetails","_s","detailsShowing","item","name","confirmDeleteItem","id","undefined","rowDetails","index","ref","ok","cancel","deleteItem","itemToDelete","staticRenderFns","validateNamespace","unvalidateNamespace","isValidName","form","$set","postForm","components","NamespaceSelect","namespace","isNamespaceValid","methods","computed","isValidForm","length","component","details","num_users","props","type","Object","default","GroupsAdd","GroupsInfo","LoadingIndicator","isLoading","getRowDetails","fetchGroups","$bvToast","toast","title","variant","autoHideDelay","$refs","show","mounted","get","s","set","newName","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error","script","isValid","onChange","fetchNamespaces","_l","select","items","selected","isFormValid","$emit"],"mappings":"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","file":"js/chunk-6b704af7.ac4e6ce3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"text-muted mt-3\"},[_vm._v(\" Groups \"),(_vm.action!=='addGroup')?_c('b-icon-plus',{staticClass:\"mr-1\",staticStyle:{\"color\":\"lightgrey\"},on:{\"click\":function($event){return _vm.$store.commit('action', 'addGroup')}}}):_vm._e()],1),(_vm.state.isLoading)?_c('loading-indicator'):_vm._e(),_c('div',[_c('b-collapse',{staticClass:\"mt-2\",attrs:{\"id\":\"collapse-4\"},model:{value:(_vm.showActionBar),callback:function ($$v) {_vm.showActionBar=$$v},expression:\"showActionBar\"}},[(_vm.action === 'addGroup')?_c('groups-add',{on:{\"refresh\":_vm.refresh}}):_vm._e()],1)],1),_c('b-table',{staticClass:\"mt-4\",staticStyle:{\"max-width\":\"650px\"},attrs:{\"hover\":\"\",\"bordeless\":\"\",\"items\":_vm.data,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(action)\",fn:function(row){return [_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":function($event){return _vm.toggleDetails(row)}}},[_vm._v(_vm._s(row.detailsShowing ? 'Hide' : 'Show')+\" users\")]),(row.item.name !== 'quid_admin')?_c('b-button',{attrs:{\"variant\":\"outline-danger\"},on:{\"click\":function($event){return _vm.confirmDeleteItem(row.item.id, row.item.name)}}},[_vm._v(\"Delete\")]):_vm._e()]}},{key:\"row-details\",fn:function(row){return [(_vm.rowDetails[row.index] != undefined)?_c('groups-info',{attrs:{\"details\":_vm.rowDetails[row.index]}}):_vm._e()]}}])}),_c('b-modal',{ref:\"delete-modal\",attrs:{\"title\":\"Delete group\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nvar cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteItem(_vm.itemToDelete)}}},[_vm._v(\"Delete\")]),_c('b-button',{attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\"Cancel\")])]}}])},[_vm._v(\" Delete \"+_vm._s(_vm.itemToDelete.name)+\"? \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',[_c('b-card',{staticClass:\"mb-2\",staticStyle:{\"max-width\":\"28rem\"},attrs:{\"title\":\"Add a group\"}},[_c('b-card-text',[_c('namespace-select',{on:{\"validate\":_vm.validateNamespace,\"unvalidate\":_vm.unvalidateNamespace}}),_c('b-form-group',[_c('b-form-input',{attrs:{\"state\":_vm.isValidName,\"placeholder\":\"name\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.isValidName}},[_vm._v(\"The name must be at least 4 characters long\")])],1)],1),(_vm.isValidForm)?_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":_vm.postForm}},[_vm._v(\"Save\")]):_c('b-button',{attrs:{\"variant\":\"success\",\"disabled\":\"\"}},[_vm._v(\"Save\")]),_c('b-button',{staticClass:\"ml-2\",attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.$store.commit('endAction')}}},[_vm._v(\"Cancel\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-form>\n    <b-card title=\"Add a group\" style=\"max-width: 28rem;\" class=\"mb-2\">\n      <b-card-text>\n        <namespace-select @validate=\"validateNamespace\" @unvalidate=\"unvalidateNamespace\"></namespace-select>\n        <b-form-group>\n          <b-form-input v-model=\"form.name\" :state=\"isValidName\" placeholder=\"name\"></b-form-input>\n          <b-form-invalid-feedback :state=\"isValidName\">The name must be at least 4 characters long</b-form-invalid-feedback>\n        </b-form-group>\n      </b-card-text>\n      <b-button variant=\"success\" v-if=\"isValidForm\" @click=\"postForm\">Save</b-button>\n      <b-button variant=\"success\" v-else disabled>Save</b-button>\n      <b-button variant=\"warning\" class=\"ml-2\" @click=\"$store.commit('endAction')\">Cancel</b-button>\n    </b-card>\n  </b-form>\n</template>\n\n<script>\nimport NamespaceSelect from \"@/components/namespace/NamespaceSelect.vue\";\n\nexport default {\n  components: {\n    NamespaceSelect,\n  },\n  data() {\n    return {\n      form: {\n        name: \"\",\n        namespace: null,\n      },\n      isNamespaceValid: false,\n    };\n  },\n  methods: {\n    unvalidateNamespace() {\n      this.isNamespaceValid = false;\n    },\n    validateNamespace(name) {\n      this.form.namespace = name;\n      this.isNamespaceValid = true;\n    },\n    async postForm() {\n      let { error } = await this.$api.post(\"/admin/groups/add\", {\n        name: this.form.name,\n        namespace_id: this.form.namespace.id,\n      });\n      if (error == null) {\n        this.form.name = \"\";\n        this.form.namespace = null;\n        this.$emit(\"refresh\");\n        this.$store.commit(\"endAction\");\n      } else {\n        //console.log(\"ERR RESP\", error.response);\n        if (error.reponse.status === 409) {\n          this.form.name = \"\";\n          this.form.namespace = null;\n        }\n      }\n    },\n  },\n  computed: {\n    isValidForm() {\n      return this.isValidName && this.isNamespaceValid;\n    },\n    isValidName() {\n      if (this.form.name.length === 0) {\n        return null;\n      }\n      return this.form.name.length >= 4;\n    },\n  },\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupsAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupsAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GroupsAdd.vue?vue&type=template&id=17f37966&\"\nimport script from \"./GroupsAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./GroupsAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',[_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{staticClass:\"text-sm-right\",attrs:{\"sm\":\"3\"}},[_c('b',[_vm._v(\"Users\")])]),_c('b-col',[_vm._v(_vm._s(_vm.details.num_users))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-card>\n    <b-row class=\"mb-2\">\n      <b-col sm=\"3\" class=\"text-sm-right\">\n        <b>Users</b>\n      </b-col>\n      <b-col>{{ details.num_users }}</b-col>\n    </b-row>\n  </b-card>\n</template>\n\n<script>\nexport default {\n  props: {\n    details: {\n      type: Object,\n      default: () => {}\n    }\n  }\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupsInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupsInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GroupsInfo.vue?vue&type=template&id=02602bb4&\"\nimport script from \"./GroupsInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./GroupsInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <h1 class=\"text-muted mt-3\">\n      Groups&nbsp;\n      <b-icon-plus\n        v-if=\"action!=='addGroup'\"\n        class=\"mr-1\"\n        style=\"color:lightgrey\"\n        @click=\"$store.commit('action', 'addGroup')\"\n      />\n    </h1>\n    <loading-indicator v-if=\"state.isLoading\"></loading-indicator>\n    <div>\n      <b-collapse id=\"collapse-4\" v-model=\"showActionBar\" class=\"mt-2\">\n        <groups-add v-if=\"action === 'addGroup'\" @refresh=\"refresh\"></groups-add>\n      </b-collapse>\n    </div>\n    <b-table hover bordeless :items=\"data\" :fields=\"fields\" class=\"mt-4\" style=\"max-width:650px\">\n      <template v-slot:cell(action)=\"row\">\n        <b-button\n          class=\"mr-2\"\n          variant=\"outline-secondary\"\n          @click=\"toggleDetails(row)\"\n        >{{ row.detailsShowing ? 'Hide' : 'Show'}} users</b-button>\n        <b-button\n          variant=\"outline-danger\"\n          v-if=\"row.item.name !== 'quid_admin'\"\n          @click=\"confirmDeleteItem(row.item.id, row.item.name)\"\n        >Delete</b-button>\n      </template>\n      <template v-slot:row-details=\"row\">\n        <groups-info v-if=\"rowDetails[row.index] != undefined\" :details=\"rowDetails[row.index]\"></groups-info>\n      </template>\n    </b-table>\n    <b-modal title=\"Delete group\" ref=\"delete-modal\">\n      Delete {{ itemToDelete.name }}?\n      <template v-slot:modal-footer=\"{ ok, cancel }\">\n        <b-button variant=\"danger\" @click=\"deleteItem(itemToDelete)\">Delete</b-button>\n        <b-button variant=\"warning\" @click=\"cancel()\">Cancel</b-button>\n      </template>\n    </b-modal>\n  </div>\n</template>\n\n\n<script>\nimport { mapState, mapGetters } from \"vuex\";\nimport GroupsAdd from \"@/components/groups/GroupsAdd\";\nimport GroupsInfo from \"@/components/groups/GroupsInfo\";\nimport LoadingIndicator from \"@/components/LoadingIndicator\";\n\nexport default {\n  components: {\n    GroupsAdd,\n    GroupsInfo,\n    LoadingIndicator,\n  },\n  data() {\n    return {\n      data: [],\n      state: {\n        isLoading: false,\n      },\n      fields: [\n        { key: \"id\", sortable: true },\n        { key: \"name\", sortable: true },\n        { key: \"namespace\", sortable: true },\n        { key: \"action\", sortable: false },\n      ],\n      itemToDelete: {},\n      rowDetails: {},\n    };\n  },\n  methods: {\n    getRowDetails(row) {\n      if (!row.detailsShowing) {\n        if (this.rowDetails[row.index] !== undefined) {\n          return this.rowDetails[row.index];\n        }\n      }\n      return { users: null };\n    },\n    async toggleDetails(row) {\n      if (!row.detailsShowing) {\n        let { response } = await this.$api.post(\"/admin/groups/info\", {\n          id: row.item.id,\n        });\n        this.rowDetails[row.index] = response.data;\n      }\n      row.toggleDetails();\n    },\n    refresh() {\n      this.fetchGroups();\n      this.$bvToast.toast(\"ok\", {\n        title: \"Group saved\",\n        variant: \"success\",\n        autoHideDelay: 1500,\n      });\n    },\n    async fetchGroups() {\n      this.state.isLoading = true;\n      let { response } = await this.$api.get(\"/admin/groups/all\");\n      this.data = response.data;\n      this.state.isLoading = false;\n    },\n    confirmDeleteItem(id, name) {\n      this.itemToDelete = {\n        name: name,\n        id: id,\n      };\n      this.$refs[\"delete-modal\"].show();\n    },\n    async deleteItem(ns) {\n      this.$refs[\"delete-modal\"].hide();\n      let { error } = await this.$api.post(\"/admin/groups/delete\", {\n        id: ns.id,\n      });\n      if (error === null) {\n        this.$bvToast.toast(\"Ok\", {\n          title: \"Group deleted\",\n          autoHideDelay: 1000,\n          variant: \"success\",\n        });\n        this.fetchGroups();\n      }\n    },\n  },\n  mounted: function () {\n    this.fetchGroups();\n  },\n  computed: {\n    ...mapState([\"action\"]),\n    ...mapGetters({\n      s: \"showActionBar\",\n    }),\n    showActionBar: {\n      get() {\n        return this.s;\n      },\n      set(newName) {\n        return newName;\n      },\n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGroups.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGroups.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewGroups.vue?vue&type=template&id=63911f3a&\"\nimport script from \"./ViewGroups.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewGroups.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-center mt-5\",staticStyle:{\"color\":\"lightgrey\"}},[_c('b-icon',{staticClass:\"h1\",attrs:{\"icon\":\"three-dots\",\"animation\":\"cylon\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./LoadingIndicator.vue?vue&type=template&id=045a4d0a&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',[_c('b-form-input',{attrs:{\"debounce\":\"500\",\"state\":_vm.isValid,\"placeholder\":\"namespace\"},on:{\"change\":_vm.onChange,\"update\":_vm.fetchNamespaces},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{staticClass:\"mt-2\"},[(_vm.state.isLoading)?_c('b-icon',{attrs:{\"icon\":\"three-dots\",\"animation\":\"cylon\"}}):_vm._e(),_vm._l((_vm.items),function(item){return _c('b-badge',{key:item.id,staticClass:\"mr-2\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.select(item)}}},[_vm._v(_vm._s(item.name))])})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-form-group>\n    <b-form-input\n      v-model=\"value\"\n      debounce=\"500\"\n      :state=\"isValid\"\n      @change=\"onChange\"\n      @update=\"fetchNamespaces\"\n      placeholder=\"namespace\"\n    ></b-form-input>\n    <div class=\"mt-2\">\n      <b-icon v-if=\"state.isLoading\" icon=\"three-dots\" animation=\"cylon\"></b-icon>\n      <b-badge\n        variant=\"primary\"\n        class=\"mr-2\"\n        v-for=\"item in items\"\n        :key=\"item.id\"\n        @click=\"select(item)\"\n      >{{ item.name }}</b-badge>\n    </div>\n  </b-form-group>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      value: \"\",\n      items: [],\n      selected: null,\n      state: {\n        isLoading: false,\n        isFormValid: false,\n      },\n    };\n  },\n  methods: {\n    async fetchNamespaces() {\n      this.state.isFormValid = false;\n      this.$emit(\"unvalidate\");\n      if (this.value === \"\") {\n        this.items = [];\n        return;\n      }\n      this.state.isLoading = true;\n      let { response, error } = await this.$api.post(\"/admin/namespaces/find\", {\n        name: this.value,\n      });\n      this.state.isLoading = false;\n      if (error === null) {\n        this.items = response.data;\n      }\n    },\n    select(item) {\n      this.value = item.name;\n      this.selected = item;\n      this.state.isFormValid = true;\n      this.$emit(\"validate\", this.selected);\n      this.items = [];\n    },\n    onChange() {\n      this.selected = null;\n      this.$emit(\"unvalidate\");\n    },\n  },\n  computed: {\n    isValid() {\n      if (this.value === \"\") {\n        return null;\n      }\n      if (this.selected === null) {\n        return false;\n      }\n      return this.state.isFormValid;\n    },\n  },\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NamespaceSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NamespaceSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NamespaceSelect.vue?vue&type=template&id=10101534&\"\nimport script from \"./NamespaceSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./NamespaceSelect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}